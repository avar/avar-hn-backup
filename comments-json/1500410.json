{
  "by" : "avar",
  "id" : 1500410,
  "kids" : [ 1500474 ],
  "parent" : 1499738,
  "text" : "Since some here are suggesting to just use `uname -s` as an autoconf\nreplacement. I thought I'd provide some data for that. The Git project\nis a very good showcase, because it can do both.<p>Git can optionally use autoconf. To do this you can run make configure\n&#38;&#38; ./configure which'll use this configure.ac file to generate the\nconfigure script: <a href=\"http://github.com/git/git/blob/pu/configure.ac#L1\" rel=\"nofollow\">http://github.com/git/git/blob/pu/configure.ac#L1</a><p>Autoconf will then write out a config.mak file, which is generated\nfrom this template: <a href=\"http://github.com/git/git/blob/pu/config.mak.in#L1\" rel=\"nofollow\">http://github.com/git/git/blob/pu/config.mak.in#L1</a><p>That's where autoconf's involvement ends. All it's doing is turning\nsimple macros like this:<p><pre><code>    # Define NO_GETTEXT if you don't have libintl.h\n    AC_CHECK_HEADER([libintl.h],\n    [NO_GETTEXT=],\n    [NO_GETTEXT=YesPlease])\n    AC_SUBST(NO_GETTEXT)\n</code></pre>\nInto this:<p><pre><code>    NO_GETTEXT=\n</code></pre>\nOr, if libintl.h doesn't exist:<p><pre><code>    NO_GETTEXT=YesPlease\n</code></pre>\nWhich you would otherwise need to specify manually as arguments to the\nMakefile when building the program:\n<a href=\"http://github.com/git/git/blob/pu/Makefile#L37\" rel=\"nofollow\">http://github.com/git/git/blob/pu/Makefile#L37</a>, after checking if you\nhave libintl.h on your system or not.<p>Autoconf can certainly get hairy, but in most cases using it is a lot\neasier than not doing it. Consider this definition:<p><pre><code>    AC_CHECK_LIB([curl], [curl_global_init],\n    [NO_CURL=],\n    [NO_CURL=YesPlease])\n</code></pre>\nThat's doing a lot of work checking if there's a libcurl on your\nsystem, and making sure it has a curl_global_init function.<p>Also note that the autotools are more than just autoconf. You <i>can</i>\nstop here, but you can also generate your makefiles with automake, and\ncreate your libraries with libtool.",
  "time" : 1278678876,
  "type" : "comment"
}
